  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (69.3ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (14.2ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCustomer Columns (0.0ms)[0m   [0mMysql::Error: Table 'milkbar.customers' doesn't exist: SHOW FIELDS FROM `customers`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090822063053)
  [4;35;1mSQL (26.6ms)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` int(11), `cost` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822063053')[0m
Migrating to CreateCustomers (20090822063215)
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE `customers` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822063215')[0m
Migrating to CreatePurchases (20090822063727)
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE TABLE `purchases` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `customer_id` int(11), `product_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822063727')[0m
Migrating to CreateDeposits (20090822063747)
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE `deposits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `customer_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822063747')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `customers`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `customers`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `deposits`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `deposits`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `purchases`[0m
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCustomer Create (0.2ms)[0m   [0;1mINSERT INTO `customers` (`name`, `updated_at`, `created_at`) VALUES('Erin', '2009-08-22 06:44:50', '2009-08-22 06:44:50')[0m
  [4;35;1mSQL (31.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mDeposit Load (0.3ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mDeposit Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 06:45:24', 1, 500, '2009-08-22 06:45:24')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.2ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 06:45:30', 1, 1000, '2009-08-22 06:45:30')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:21:08) [GET]

ArgumentError (Unknown key(s): sort_by):
  app/controllers/dashboard_controller.rb:4:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (30.3ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:21:18) [GET]

ArgumentError (Unknown key(s): sort):
  app/controllers/dashboard_controller.rb:4:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (36.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:21:19) [GET]

ArgumentError (Unknown key(s): sort):
  app/controllers/dashboard_controller.rb:4:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (82.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:21:27) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
Completed in 90ms (View: 87, DB: 1) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:21:39) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://milkbar.local/products/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:21:41) [GET]
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 17:21:41) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg="}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`name`, `updated_at`, `price`, `cost`, `created_at`) VALUES(NULL, '2009-08-22 07:21:42', NULL, NULL, '2009-08-22 07:21:42')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/1
Completed in 18ms (DB: 2) | 302 Found [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:21:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 10ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:21:47) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090822063053)
Migrating to CreateCustomers (20090822063215)
Migrating to CreatePurchases (20090822063727)
Migrating to CreateDeposits (20090822063747)
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `customers`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `customers`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `deposits`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `deposits`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (4.5ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:22:57) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:22:59) [GET]
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new

ActionView::TemplateError (undefined method `buy_cost' for #<Product:0x24abd8c>) on line #15 of app/views/products/new.html.erb:
12:   </p>
13:   
14:   <p>
15:     <% f.text_field :buy_cost %>
16:   </p>
17:   
18:   <p>

    app/views/products/new.html.erb:15
    app/views/products/new.html.erb:3
    app/controllers/products_controller.rb:29:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (92.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090822063053)
  [4;35;1mSQL (16.4ms)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `price` int(11), `buy_cost` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822063053')[0m
Migrating to CreateCustomers (20090822063215)
Migrating to CreatePurchases (20090822063727)
Migrating to CreateDeposits (20090822063747)
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `customers`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `customers`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `deposits`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `deposits`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (11.4ms)[0m   [0;1mdescribe `purchases`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:23:50) [GET]
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 17:23:52) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg="}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES(NULL, '2009-08-22 07:23:52', NULL, NULL, '2009-08-22 07:23:52')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/1
Completed in 8ms (DB: 2) | 302 Found [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:23:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 6ms (View: 1, DB: 1) | 200 OK [http://milkbar.local/products/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:23:54) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:23:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 11ms (View: 6, DB: 2) | 200 OK [http://milkbar.local/products/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:24:11) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:24:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/products/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:24:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 11ms (View: 6, DB: 2) | 200 OK [http://milkbar.local/products/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 17:24:56) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Coca Cola", "price"=>"100", "buy_cost"=>"57"}, "id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Update (0.2ms)[0m   [0;1mUPDATE `products` SET `price` = 100, `buy_cost` = 57, `updated_at` = '2009-08-22 07:24:56', `name` = 'Coca Cola' WHERE `id` = 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/1
Completed in 8ms (DB: 2) | 302 Found [http://milkbar.local/products/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:24:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 6ms (View: 1, DB: 1) | 200 OK [http://milkbar.local/products/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:25:05) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 2, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:25:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 6ms (View: 1, DB: 1) | 200 OK [http://milkbar.local/products/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:25:08) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 2, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:25:10) [GET]
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 17:25:10) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg="}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Create (0.2ms)[0m   [0mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES(NULL, '2009-08-22 07:25:10', NULL, NULL, '2009-08-22 07:25:10')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/2
Completed in 63ms (DB: 6) | 302 Found [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:25:10) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 2, DB: 2) | 200 OK [http://milkbar.local/products/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:25:11) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:25:21) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/products/2/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:25:52) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:25:53) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 1, DB: 2) | 200 OK [http://milkbar.local/products/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:26:12) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 10ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:26:14) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Columns (12.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 19ms (View: 2, DB: 13) | 200 OK [http://milkbar.local/products/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:26:16) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:26:48) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #9 of app/views/products/index.html.erb:
6: 
7: <% @products.each do |product| %>
8:   <tr>
9:     <td><%= @product.name %></td>
10:     <td><%= @product.price %></td>
11:     <td><%= @product.buy_cost %></td>
12:     <td><%= link_to 'Show', product %></td>

    app/views/products/index.html.erb:9
    app/views/products/index.html.erb:7:in `each'
    app/views/products/index.html.erb:7
    app/controllers/products_controller.rb:7:in `index'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:26:56) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:27:20) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 11ms (View: 6, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:27:25) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/products/2/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 17:27:35) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Coca Cola Zero", "price"=>"100", "buy_cost"=>"57"}, "id"=>"2"}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (17.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Update (0.2ms)[0m   [0;1mUPDATE `products` SET `price` = 100, `buy_cost` = 57, `updated_at` = '2009-08-22 07:27:35', `name` = 'Coca Cola Zero' WHERE `id` = 2[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/2
Completed in 26ms (DB: 20) | 302 Found [http://milkbar.local/products/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:27:35) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:27:38) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:27:42) [GET]
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 17:27:52) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Mars Bar", "price"=>"50", "buy_cost"=>"19"}}
  [4;35;1mProduct Columns (6.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Create (0.2ms)[0m   [0mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES('Mars Bar', '2009-08-22 07:27:52', 50, 19, '2009-08-22 07:27:52')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/3
Completed in 14ms (DB: 7) | 302 Found [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:27:52) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:27:53) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:27:55) [GET]
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 17:28:03) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Skittles", "price"=>"50", "buy_cost"=>"19"}}
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES('Skittles', '2009-08-22 07:28:03', 50, 19, '2009-08-22 07:28:03')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/4
Completed in 8ms (DB: 2) | 302 Found [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:28:03) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (3.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 10ms (View: 2, DB: 5) | 200 OK [http://milkbar.local/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:28:04) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 17:28:05) [GET]
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 7ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 17:28:41) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Flake", "price"=>"50", "buy_cost"=>"25"}}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (22.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Create (0.2ms)[0m   [0mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES('Flake', '2009-08-22 07:28:41', 50, 25, '2009-08-22 07:28:41')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/5
Completed in 31ms (DB: 24) | 302 Found [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:28:41) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:28:42) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:29:06) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:42:47) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 119ms (View: 114, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#coca-cola-zero (for 127.0.0.1 at 2009-08-22 17:42:47) [GET]

ActionController::UnknownAction (No action responded to coca-cola-zero. Actions: deposit, index, and purchase_product):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#skittles (for 127.0.0.1 at 2009-08-22 17:42:48) [GET]

ActionController::UnknownAction (No action responded to skittles. Actions: deposit, index, and purchase_product):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#coca-cola (for 127.0.0.1 at 2009-08-22 17:42:48) [GET]
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#mars-bar (for 127.0.0.1 at 2009-08-22 17:42:48) [GET]


Processing DashboardController#flake (for 127.0.0.1 at 2009-08-22 17:42:48) [GET]

ActionController::UnknownAction (No action responded to flake. Actions: deposit, index, and purchase_product):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)

ActionController::UnknownAction (No action responded to mars-bar. Actions: deposit, index, and purchase_product):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)

ActionController::UnknownAction (No action responded to coca-cola. Actions: deposit, index, and purchase_product):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:42:59) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 90ms (View: 85, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:42:59) [GET]


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:42:59) [GET]

ActionController::RoutingError (No route matches "/images/products/mars-bar" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'


ActionController::RoutingError (No route matches "/images/products/coca-cola-zero" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:42:59) [GET]

ActionController::RoutingError (No route matches "/images/products/skittles" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:43:00) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 89ms (View: 84, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:43:00) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:43:00) [GET]


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:43:00) [GET]

ActionController::RoutingError (No route matches "/images/products/skittles" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)

ActionController::RoutingError (No route matches "/images/products/coca-cola-zero" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)

ActionController::RoutingError (No route matches "/images/products/mars-bar" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:43:07) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 14ms (View: 9, DB: 2) | 200 OK [http://milkbar.local/products/3/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 17:43:10) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Mars", "price"=>"50", "buy_cost"=>"19"}, "id"=>"3"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (20.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Update (0.2ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-08-22 07:43:10', `name` = 'Mars' WHERE `id` = 3[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/3
Completed in 29ms (DB: 22) | 302 Found [http://milkbar.local/products/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:43:10) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 10ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:43:11) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:43:56) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:43:56) [GET]

ActionController::RoutingError (No route matches "/images/products/coca-cola-zero" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 17:44:00) [GET]

ActionController::RoutingError (No route matches "/images/products/coca-cola-zero" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 17:44:04) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 17:44:08) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Coke Zero", "price"=>"100", "buy_cost"=>"57"}, "id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Update (0.2ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-08-22 07:44:08', `name` = 'Coke Zero' WHERE `id` = 2[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/2
Completed in 10ms (DB: 2) | 302 Found [http://milkbar.local/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 17:44:08) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 8ms (View: 2, DB: 2) | 200 OK [http://milkbar.local/products/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 17:44:09) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:44:13) [GET]
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 17:44:40) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:09:19) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 19ms (View: 14, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#destroy (for 127.0.0.1 at 2009-08-22 18:09:30) [DELETE]
  Parameters: {"authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "id"=>"2"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Destroy (0.2ms)[0m   [0mDELETE FROM `products` WHERE `id` = 2[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products
Completed in 13ms (DB: 2) | 302 Found [http://milkbar.local/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:09:30) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#destroy (for 127.0.0.1 at 2009-08-22 18:09:31) [DELETE]
  Parameters: {"authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "id"=>"3"}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 3[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products
Completed in 8ms (DB: 2) | 302 Found [http://milkbar.local/products/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:09:32) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#destroy (for 127.0.0.1 at 2009-08-22 18:09:34) [DELETE]
  Parameters: {"authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "id"=>"4"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Destroy (0.1ms)[0m   [0mDELETE FROM `products` WHERE `id` = 4[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products
Completed in 7ms (DB: 2) | 302 Found [http://milkbar.local/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:09:34) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (17.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 25ms (View: 3, DB: 18) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 18:09:35) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 12ms (View: 7, DB: 2) | 200 OK [http://milkbar.local/products/5/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 18:09:43) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Chocolate", "price"=>"50", "buy_cost"=>"25"}, "id"=>"5"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Update (0.2ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-08-22 08:09:43', `name` = 'Chocolate' WHERE `id` = 5[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/5
Completed in 10ms (DB: 2) | 302 Found [http://milkbar.local/products/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 18:09:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 11ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/products/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 18:09:44) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products/5/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 18:09:45) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Chocolate", "price"=>"50", "buy_cost"=>"25"}, "id"=>"5"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/5
Completed in 8ms (DB: 2) | 302 Found [http://milkbar.local/products/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 18:09:45) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 18:11:33) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/products/5/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 18:11:36) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Chocolate Bar", "price"=>"50", "buy_cost"=>"25"}, "id"=>"5"}
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Update (0.2ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-08-22 08:11:36', `name` = 'Chocolate Bar' WHERE `id` = 5[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/5
Completed in 8ms (DB: 2) | 302 Found [http://milkbar.local/products/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 18:11:36) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 2, DB: 2) | 200 OK [http://milkbar.local/products/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:11:37) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-08-22 18:11:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/edit
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-08-22 18:11:44) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Cold Can", "price"=>"100", "buy_cost"=>"57"}, "id"=>"1"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Update (0.2ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-08-22 08:11:44', `name` = 'Cold Can' WHERE `id` = 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/products/1
Completed in 9ms (DB: 2) | 302 Found [http://milkbar.local/products/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 18:11:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/products/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:11:46) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:11:51) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 118ms (View: 113, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:12:33) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:12:49) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:12:52) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:12:53) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:12:53) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 2, DB: 1) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:13:00) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:13:10) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:13:17) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:13:35) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 9ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:13:57) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:14:19) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 18:16:30) [GET]
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 18:16:52) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Mineral Water", "price"=>"150", "buy_cost"=>"93"}}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES('Mineral Water', '2009-08-22 08:16:52', 150, 93, '2009-08-22 08:16:52')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/6
Completed in 10ms (DB: 2) | 302 Found [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 18:16:52) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mProduct Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 9ms (View: 2, DB: 3) | 200 OK [http://milkbar.local/products/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:16:54) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 77ms (View: 72, DB: 1) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:17:00) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-22 18:17:00) [GET]

ActionController::RoutingError (No route matches "/images/products/mineral-water" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:17:15) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 7ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-08-22 18:17:16) [GET]
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/application
Rendering products/new
Completed in 8ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-08-22 18:17:32) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "product"=>{"name"=>"Museli Bar", "price"=>"100", "buy_cost"=>"65"}}
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`name`, `updated_at`, `price`, `buy_cost`, `created_at`) VALUES('Museli Bar', '2009-08-22 08:17:32', 100, 65, '2009-08-22 08:17:32')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/products/7
Completed in 9ms (DB: 2) | 302 Found [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-08-22 18:17:32) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mProduct Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 10ms (View: 2, DB: 4) | 200 OK [http://milkbar.local/products/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 18:17:32) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:17:35) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 18:19:46) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 10ms (View: 6, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:03:12) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 86ms (View: 81, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#login (for 127.0.0.1 at 2009-08-22 19:07:03) [POST]
  Parameters: {"name"=>"erin", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "password"=>"erin", "login"=>""}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`name` IS NULL) LIMIT 1[0m
Redirected to http://milkbar.local/
Completed in 13ms (DB: 1) | 302 Found [http://milkbar.local/customer/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:07:49) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 86ms (View: 81, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:08:48) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:08:50) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:09:01) [GET]

RuntimeError ({:session_id=>"a01a1b72b9df97e41f4004b5ac3a52a6", :_csrf_token=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "flash"=>{}}):
  app/controllers/application_controller.rb:15:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (31.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 19:09:04) [GET]

RuntimeError ({:session_id=>"a01a1b72b9df97e41f4004b5ac3a52a6", :_csrf_token=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "flash"=>{}}):
  app/controllers/application_controller.rb:15:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (32.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-08-22 19:09:49) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/application
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 15ms (View: 9, DB: 2) | 200 OK [http://milkbar.local/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:09:52) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:09:55) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#login (for 127.0.0.1 at 2009-08-22 19:09:58) [POST]
  Parameters: {"name"=>"erin", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "password"=>"erin", "login"=>""}

RuntimeError ({"name"=>"erin", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "action"=>"login", "controller"=>"customer", "login"=>"", "password"=>"erin"}):
  app/controllers/customer_controller.rb:3:in `login'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (85.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#login (for 127.0.0.1 at 2009-08-22 19:10:14) [POST]
  Parameters: {"name"=>"erin", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "password"=>"erin", "login"=>""}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`name` IS NULL) LIMIT 1[0m

RuntimeError (nil):
  app/controllers/customer_controller.rb:4:in `login'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (26.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#login (for 127.0.0.1 at 2009-08-22 19:10:20) [POST]
  Parameters: {"name"=>"erin", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "password"=>"erin", "login"=>""}
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`name` = 'erin') LIMIT 1[0m

RuntimeError (#<Customer id: 1, name: "Erin", created_at: "2009-08-22 06:44:50", updated_at: "2009-08-22 06:44:50", password: "erin">):
  app/controllers/customer_controller.rb:4:in `login'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (27.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#login (for 127.0.0.1 at 2009-08-22 19:10:26) [POST]
  Parameters: {"name"=>"erin", "authenticity_token"=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "password"=>"erin", "login"=>""}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`name` = 'erin') LIMIT 1[0m
Redirected to http://milkbar.local/
Completed in 7ms (DB: 2) | 302 Found [http://milkbar.local/customer/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:10:30) [GET]

ActiveRecord::RecordNotFound (Couldn't find Customer without an ID):
  app/controllers/application_controller.rb:16:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (32.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:10:55) [GET]

ActiveRecord::RecordNotFound (Couldn't find Customer without an ID):
  app/controllers/application_controller.rb:16:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (29.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:11:04) [GET]

RuntimeError ({:customer_id=>1, :session_id=>"a01a1b72b9df97e41f4004b5ac3a52a6", :_csrf_token=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "flash"=>{}}):
  app/controllers/application_controller.rb:16:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (27.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:11:13) [GET]

RuntimeError ({:customer_id=>1, :session_id=>"a01a1b72b9df97e41f4004b5ac3a52a6", :_csrf_token=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "flash"=>{}}):
  app/controllers/application_controller.rb:16:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (29.3ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:11:13) [GET]

RuntimeError ({:customer_id=>1, :session_id=>"a01a1b72b9df97e41f4004b5ac3a52a6", :_csrf_token=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "flash"=>{}}):
  app/controllers/application_controller.rb:16:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (28.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:11:14) [GET]

RuntimeError ({:customer_id=>1, :session_id=>"a01a1b72b9df97e41f4004b5ac3a52a6", :_csrf_token=>"SjyTv6YZ9U2+jTBw06h00/aFyZU/xp8UPqorbQ9qtpg=", "flash"=>{}}):
  app/controllers/application_controller.rb:16:in `setup_user'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (27.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:11:17) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.balance) on line #2 of app/views/dashboard/index.html.erb:
1: <% if @logged_in_user %>
2:   <h1 style="colour: green;">Hi <%= @logged_in_user.name %>, you have $<%= @user.balance.to_f / 100 %> credit.
3: <% else %>
4:   <% form_tag "/customer/login" do %> 
5:     <fieldset>

    app/views/dashboard/index.html.erb:2
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (33.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:11:55) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m

RuntimeError (#<Customer id: 1, name: "Erin", created_at: "2009-08-22 06:44:50", updated_at: "2009-08-22 06:44:50", password: "erin">):
  app/controllers/dashboard_controller.rb:5:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (27.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 19:12:09) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (15.4ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 35ms (View: 10, DB: 18) | 200 OK [http://milkbar.local/dashboard/]
  [4;36;1mSQL (14.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:04:53) [GET]
  [4;35;1mProduct Load (46.1ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 342ms (View: 221, DB: 62) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#login (for 127.0.0.1 at 2009-08-22 23:05:04) [POST]
  Parameters: {"name"=>"erin", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "password"=>"erin", "login"=>""}
  [4;36;1mCustomer Columns (90.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (51.8ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`name` = 'erin') LIMIT 1[0m
Redirected to http://milkbar.local/
Completed in 279ms (DB: 142) | 302 Found [http://milkbar.local/customer/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:05:08) [GET]
  [4;35;1mCustomer Columns (110.9ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (25.5ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (141.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (53.7ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (95.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 596ms (View: 162, DB: 427) | 200 OK [http://milkbar.local/dashboard/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:05:26) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (4.0ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 20ms (View: 5, DB: 9) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:13:29) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
ERROR: compiling _run_erb_app47views47dashboard47index46html46erb RAISED compile error
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:22: syntax error, unexpected tSTRING_BEG, expecting ')'
...buffer.concat(( product.id $>">
                              ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:23: syntax error, unexpected ':', expecting ')'
...o_s); @output_buffer.concat ":</h3>\n"
                              ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:24: unknown regexp options - ag
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:24: syntax error, unexpected $undefined, expecting ')'
...o_s); @output_buffer.concat "\">\n"
                              ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:27: syntax error, unexpected kEND, expecting ')'
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
                                  ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:44: syntax error, unexpected kENSURE, expecting ')'
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:46: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47dashboard47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  if @logged_in_user ; @output_buffer.concat "\n"
@output_buffer.concat "  <h1 style=\"colour: green;\">Hi "; @output_buffer.concat(( @logged_in_user.name ).to_s); @output_buffer.concat ", you have $"; @output_buffer.concat(( @logged_in_user.balance.to_f / 100 ).to_s); @output_buffer.concat " credit.\n"
 else ; @output_buffer.concat "\n"
@output_buffer.concat "  ";  form_tag "/customer/login" do ; @output_buffer.concat " \n"
@output_buffer.concat "    <fieldset>\n"
@output_buffer.concat "  \t\t"; @output_buffer.concat(( text_field_tag :name, "name", :onclick => "if(this.value=='name')this.value='';", :onblur => "if(this.value=='')this.value='name'" ).to_s); @output_buffer.concat " \n"
@output_buffer.concat "  \t\t"; @output_buffer.concat(( password_field_tag :password, "password", :class => 'text', :onclick => "if(this.value=='password')this.value='';", :onblur => "if(this.value=='')this.value='password'"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    \t<button id=\"header_login\" type=\"submit\" name=\"login\">Login</button>\n"
@output_buffer.concat "    </fieldset>\n"
@output_buffer.concat "  ";  end 
 end ; @output_buffer.concat "\n"
@output_buffer.concat "<h1>Hungry? Thirsty? Click a product to purchase it.</h1>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<table>\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <tr>\n"
@output_buffer.concat "    ";  @products.each do |product| ; @output_buffer.concat "\n"
@output_buffer.concat "      <td>\n"
@output_buffer.concat "        <a href=\"/dashboard/purchase_product/"; @output_buffer.concat(( product.id $>">
          <h3><%= product.name ).to_s); @output_buffer.concat ":</h3>\n"
@output_buffer.concat "          <img src=\"/images/products/"; @output_buffer.concat(( product.name.parameterize ).to_s); @output_buffer.concat "\">\n"
@output_buffer.concat "        </a>\n"
@output_buffer.concat "      </td>\n"
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
@output_buffer.concat "  </tr>\n"
@output_buffer.concat "</table>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<br />\n"
@output_buffer.concat "\n"
 if @logged_in_user ; @output_buffer.concat "\n"
@output_buffer.concat "  <h1>Funds low? Deposit more cash!</h1>\n"
@output_buffer.concat "\n"
@output_buffer.concat "  ";  form_tag "/dashboard" do ; @output_buffer.concat " \n"
@output_buffer.concat "    <fieldset>\n"
@output_buffer.concat "      How many dollars would you like to give us?\n"
@output_buffer.concat "  \t\t"; @output_buffer.concat(( text_field_tag :value ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "    </fieldset>\n"
@output_buffer.concat "  ";  end 
 end ; @output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:46:in `compile!'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render_without_benchmark'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action_without_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/head.rb:9:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/methodoverride.rb:24:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/utils.rb:182:in `safe_fork'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:162:in `start'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/bin/passenger-spawn-server:61

ActionView::TemplateError (compile error
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:22: syntax error, unexpected tSTRING_BEG, expecting ')'
...buffer.concat(( product.id $>">
                              ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:23: syntax error, unexpected ':', expecting ')'
...o_s); @output_buffer.concat ":</h3>\n"
                              ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:24: unknown regexp options - ag
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:24: syntax error, unexpected $undefined, expecting ')'
...o_s); @output_buffer.concat "\">\n"
                              ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:27: syntax error, unexpected kEND, expecting ')'
@output_buffer.concat "    ";  end ; @output_buffer.concat "\n"
                                  ^
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:44: syntax error, unexpected kENSURE, expecting ')'
/Users/erin/Sites/milkbar/app/views/dashboard/index.html.erb:46: syntax error, unexpected kEND, expecting ')') on line #22 of app/views/dashboard/index.html.erb:
19:   <tr>
20:     <% @products.each do |product| %>
21:       <td>
22:         <a href="/dashboard/purchase_product/<%= product.id $>">
23:           <h3><%= product.name %>:</h3>
24:           <img src="/images/products/<%= product.name.parameterize %>">
25:         </a>

    app/views/dashboard/index.html.erb:46:in `compile!'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (35.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:13:38) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (6.5ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 136ms (View: 117, DB: 12) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:13:52) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 19ms (View: 9, DB: 4) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:13:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (9.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (30.7ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.3ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `created_at`) VALUES('2009-08-22 13:13:55', 1, 1, '2009-08-22 13:13:55')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 103ms (DB: 42) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:13:55) [GET]
  [4;36;1mCustomer Columns (7.6ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 21ms (View: 5, DB: 10) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:13:57) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `created_at`) VALUES('2009-08-22 13:13:57', 6, 1, '2009-08-22 13:13:57')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 20ms (DB: 10) | 302 Found [http://milkbar.local/dashboard/purchase_product/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:13:57) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 15ms (View: 5, DB: 4) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:13:58) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (21.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `created_at`) VALUES('2009-08-22 13:13:58', 7, 1, '2009-08-22 13:13:58')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 86ms (DB: 25) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:13:58) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 15ms (View: 5, DB: 4) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090822063053)
Migrating to CreateCustomers (20090822063215)
Migrating to CreatePurchases (20090822063727)
  [4;35;1mSQL (79.7ms)[0m   [0mCREATE TABLE `purchases` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `customer_id` int(11), `product_id` int(11), `value` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822063727')[0m
Migrating to CreateDeposits (20090822063747)
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mdescribe `customers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `customers`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `deposits`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `deposits`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mdescribe `purchases`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:15:53) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (12.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 26ms (View: 5, DB: 15) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:16:07) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (5.9ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 29ms (View: 10, DB: 13) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:16:17) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 21ms (View: 9, DB: 5) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:16:38) [POST]
  Parameters: {"authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"3"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 23ms (View: 9, DB: 7) | 200 OK [http://milkbar.local/dashboard]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:16:54) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (8.5ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 28ms (View: 11, DB: 11) | 200 OK [http://milkbar.local/dashboard]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:00) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 19ms (View: 10, DB: 4) | 200 OK [http://milkbar.local/dashboard]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:05) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 21ms (View: 10, DB: 4) | 200 OK [http://milkbar.local/dashboard]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:09) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 74ms (View: 64, DB: 4) | 200 OK [http://milkbar.local/dashboard]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:14) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 22ms (View: 8, DB: 8) | 200 OK [http://milkbar.local/dashboard]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:17) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"5"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (12.3ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 28ms (View: 6, DB: 15) | 200 OK [http://milkbar.local/dashboard]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:28) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 17ms (View: 7, DB: 4) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:17:33) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"5"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (12.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 26ms (View: 5, DB: 15) | 200 OK [http://milkbar.local/dashboard]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:18:10) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"5"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 20ms (View: 9, DB: 4) | 200 OK [http://milkbar.local/dashboard]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:18:11) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>""}
  [4;36;1mCustomer Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (20.8ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.2ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:18:11', 1, 0, '2009-08-22 13:18:11')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 31ms (DB: 23) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:18:11) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 16ms (View: 6, DB: 4) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:18:13) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 19ms (View: 6, DB: 7) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:18:16) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"5"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (12.3ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:18:16', 1, 500, '2009-08-22 13:18:16')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 22ms (DB: 14) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:18:16) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 14ms (View: 5, DB: 4) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:18:45) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (6.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:18:45', 5, 1, 50, '2009-08-22 13:18:45')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 76ms (DB: 10) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:18:45) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 15ms (View: 5, DB: 4) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:19:41) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (10.4ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 31ms (View: 8, DB: 17) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:19:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:19:43', 1, 1, 100, '2009-08-22 13:19:43')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 22ms (DB: 11) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:19:43) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (20.5ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 39ms (View: 8, DB: 25) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:19:43) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mPurchase Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:19:43', 6, 1, 150, '2009-08-22 13:19:43')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 5) | 302 Found [http://milkbar.local/dashboard/purchase_product/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:19:43) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (16.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 36ms (View: 9, DB: 21) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:19:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:19:44', 1, 1, 100, '2009-08-22 13:19:44')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 20ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:19:44) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (20.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 41ms (View: 9, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:19:47) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (7.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mPurchase Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:19:47', 7, 1, 100, '2009-08-22 13:19:47')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 26ms (DB: 15) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:19:47) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (16.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 38ms (View: 9, DB: 23) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:19:50) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (16.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (3.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:19:50', 7, 1, 100, '2009-08-22 13:19:50')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 35ms (DB: 23) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:19:50) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (13.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 31ms (View: 8, DB: 18) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:22:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (14.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:22:44', 1, 1, 100, '2009-08-22 13:22:44')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 32ms (DB: 19) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:22:44) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m

ActionView::TemplateError (undefined method `actions' for #<Customer:0x243e87c>) on line #46 of app/views/dashboard/index.html.erb:
43: <h1>My my you've been busy! You've done all this:</h1>
44: 
45: 
46: <% @logged_in_user.actions.each do |action| %>
47:   
48:   <table>
49:     <tr>

    app/views/dashboard/index.html.erb:46
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (89.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:23:08) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (8.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 30ms (View: 11, DB: 13) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:23:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (8.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:23:09', 1, 1, 100, '2009-08-22 13:23:09')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 27ms (DB: 14) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:23:09) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (20.0ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 39ms (View: 9, DB: 25) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:23:11) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mPurchase Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:23:11', 7, 1, 100, '2009-08-22 13:23:11')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:23:11) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (24.0ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 43ms (View: 8, DB: 29) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:23:12) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mPurchase Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:23:12', 5, 1, 50, '2009-08-22 13:23:12')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 22ms (DB: 9) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:23:12) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (20.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 38ms (View: 8, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:23:14) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"10"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (7.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:23:14', 1, 1000, '2009-08-22 13:23:14')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 74ms (DB: 11) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:23:14) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Completed in 19ms (View: 8, DB: 5) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:24:38) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError ([#<Purchase id: 1, customer_id: 1, product_id: 5, value: 50, created_at: "2009-08-22 13:18:45", updated_at: "2009-08-22 13:18:45">, #<Purchase id: 2, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:19:43", updated_at: "2009-08-22 13:19:43">, #<Purchase id: 3, customer_id: 1, product_id: 6, value: 150, created_at: "2009-08-22 13:19:43", updated_at: "2009-08-22 13:19:43">, #<Purchase id: 4, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:19:44", updated_at: "2009-08-22 13:19:44">, #<Purchase id: 5, customer_id: 1, product_id: 7, value: 100, created_at: "2009-08-22 13:19:47", updated_at: "2009-08-22 13:19:47">, #<Purchase id: 6, customer_id: 1, product_id: 7, value: 100, created_at: "2009-08-22 13:19:50", updated_at: "2009-08-22 13:19:50">, #<Purchase id: 7, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:22:44", updated_at: "2009-08-22 13:22:44">, #<Purchase id: 8, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:23:09", updated_at: "2009-08-22 13:23:09">, #<Purchase id: 9, customer_id: 1, product_id: 7, value: 100, created_at: "2009-08-22 13:23:11", updated_at: "2009-08-22 13:23:11">, #<Purchase id: 10, customer_id: 1, product_id: 5, value: 50, created_at: "2009-08-22 13:23:12", updated_at: "2009-08-22 13:23:12">, #<Deposit id: 1, customer_id: 1, value: 500, created_at: "2009-08-22 06:45:24", updated_at: "2009-08-22 06:45:24">, #<Deposit id: 2, customer_id: 1, value: 1000, created_at: "2009-08-22 06:45:30", updated_at: "2009-08-22 06:45:30">, #<Deposit id: 3, customer_id: 1, value: 0, created_at: "2009-08-22 13:18:11", updated_at: "2009-08-22 13:18:11">, #<Deposit id: 4, customer_id: 1, value: 500, created_at: "2009-08-22 13:18:16", updated_at: "2009-08-22 13:18:16">, #<Deposit id: 5, customer_id: 1, value: 1000, created_at: "2009-08-22 13:23:14", updated_at: "2009-08-22 13:23:14">]) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (33.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:27:32) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (14.8ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `product' for #<Deposit:0x23a93e4>) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:17:in `actions'
    app/models/customer.rb:15:in `collect!'
    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (90.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:27:44) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (19.8ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.0ms)[0m   [0mMysql::Error: Unknown column 'products.purchase_id' in 'where clause': SELECT * FROM `products` WHERE (`products`.purchase_id = 1) LIMIT 1[0m

ActionView::TemplateError (Mysql::Error: Unknown column 'products.purchase_id' in 'where clause': SELECT * FROM `products` WHERE (`products`.purchase_id = 1)  LIMIT 1) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:17:in `actions'
    app/models/customer.rb:15:in `collect!'
    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (39.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:28:01) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (22.1ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m

ActionView::TemplateError (undefined method `value' for "#<Product:0x26432d0>":Product) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:17:in `actions'
    app/models/customer.rb:15:in `collect!'
    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (34.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:28:18) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m

ActionView::TemplateError (undefined method `cost' for "#<Product:0x24552ac>":Product) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:17:in `actions'
    app/models/customer.rb:15:in `collect!'
    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (91.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:28:32) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (13.6ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m

ActionView::TemplateError (undefined method `details=' for #<Purchase:0x258a104>) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:17:in `actions'
    app/models/customer.rb:15:in `collect!'
    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (34.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:29:45) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError ([#<Purchase id: 1, customer_id: 1, product_id: 5, value: 50, created_at: "2009-08-22 13:18:45", updated_at: "2009-08-22 13:18:45">, #<Purchase id: 2, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:19:43", updated_at: "2009-08-22 13:19:43">, #<Purchase id: 3, customer_id: 1, product_id: 6, value: 150, created_at: "2009-08-22 13:19:43", updated_at: "2009-08-22 13:19:43">, #<Purchase id: 4, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:19:44", updated_at: "2009-08-22 13:19:44">, #<Purchase id: 5, customer_id: 1, product_id: 7, value: 100, created_at: "2009-08-22 13:19:47", updated_at: "2009-08-22 13:19:47">, #<Purchase id: 6, customer_id: 1, product_id: 7, value: 100, created_at: "2009-08-22 13:19:50", updated_at: "2009-08-22 13:19:50">, #<Purchase id: 7, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:22:44", updated_at: "2009-08-22 13:22:44">, #<Purchase id: 8, customer_id: 1, product_id: 1, value: 100, created_at: "2009-08-22 13:23:09", updated_at: "2009-08-22 13:23:09">, #<Purchase id: 9, customer_id: 1, product_id: 7, value: 100, created_at: "2009-08-22 13:23:11", updated_at: "2009-08-22 13:23:11">, #<Purchase id: 10, customer_id: 1, product_id: 5, value: 50, created_at: "2009-08-22 13:23:12", updated_at: "2009-08-22 13:23:12">, #<Deposit id: 1, customer_id: 1, value: 500, created_at: "2009-08-22 06:45:24", updated_at: "2009-08-22 06:45:24">, #<Deposit id: 2, customer_id: 1, value: 1000, created_at: "2009-08-22 06:45:30", updated_at: "2009-08-22 06:45:30">, #<Deposit id: 3, customer_id: 1, value: 0, created_at: "2009-08-22 13:18:11", updated_at: "2009-08-22 13:18:11">, #<Deposit id: 4, customer_id: 1, value: 500, created_at: "2009-08-22 13:18:16", updated_at: "2009-08-22 13:18:16">, #<Deposit id: 5, customer_id: 1, value: 1000, created_at: "2009-08-22 13:23:14", updated_at: "2009-08-22 13:23:14">]) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:16:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (89.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:29:53) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (5.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 92ms (View: 74, DB: 13) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:29:57) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (16.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mPurchase Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:29:57', 6, 1, 150, '2009-08-22 13:29:57')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 35ms (DB: 22) | 302 Found [http://milkbar.local/dashboard/purchase_product/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:29:57) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (17.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
Completed in 46ms (View: 16, DB: 23) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:31:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (9.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:31:36', 1, 1, 100, '2009-08-22 13:31:36')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 29ms (DB: 16) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:31:36) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `<=>' for #<Purchase:0x2331088>) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:15:in `sort'
    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (34.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:31:48) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (11.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 37ms (View: 15, DB: 17) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:31:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (5.7ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:31:50', 1, 1, 100, '2009-08-22 13:31:50')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 24ms (DB: 12) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:31:50) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (20.5ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 49ms (View: 17, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:31:51) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mPurchase Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:31:51', 6, 1, 150, '2009-08-22 13:31:51')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 20ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/purchase_product/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:31:51) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (20.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 105ms (View: 73, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:32:31) [GET]
  [4;36;1mCustomer Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (9.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 49ms (View: 25, DB: 18) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` LIMIT 1[0m
  [4;36;1mCustomer Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:34:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (11.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (4.7ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:34:43', 1, 1, 100, '2009-08-22 13:34:43')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 30ms (DB: 18) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:34:43) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (4.7ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `sort_by!' for #<Array:0x24a7d18>) on line #58 of app/views/dashboard/index.html.erb:
55:       </td>
56:     </tr>
57: 
58:     <% @logged_in_user.actions.each do |action| %>
59: 
60:       <tr>
61:         <td>

    app/models/customer.rb:15:in `actions'
    app/views/dashboard/index.html.erb:58
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (33.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:34:53) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (14.7ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 100ms (View: 75, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:34:54) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (10.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mPurchase Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:34:54', 7, 1, 100, '2009-08-22 13:34:54')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 30ms (DB: 17) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:34:54) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (13.9ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 21, DB: 20) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:34:55) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (6.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mPurchase Columns (4.7ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:34:55', 5, 1, 50, '2009-08-22 13:34:55')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 25ms (DB: 14) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:34:55) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 30ms (View: 19, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:34:58) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"10"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.1ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:34:58', 1, 1000, '2009-08-22 13:34:58')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 3) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:34:58) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 31ms (View: 19, DB: 6) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:39:27) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (5.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (4.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m

ActionView::TemplateError (undefined method `downcase' for #<Class:0x2314e24>) on line #74 of app/views/dashboard/index.html.erb:
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_action?type=<%= action.class.downcase %>&id=<%= action.id %>">remove</a>)
75:         </td>
76:       </tr>
77: 

    app/views/dashboard/index.html.erb:74
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (33.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:39:46) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (10.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 51ms (View: 27, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:01) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (18.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mPurchase Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:01', 7, 1, 100, '2009-08-22 13:40:01')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 40ms (DB: 27) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:01) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (18.4ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 23, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:07', 1, 1, 100, '2009-08-22 13:40:07')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 18ms (DB: 5) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:07) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (5.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 96ms (View: 21, DB: 11) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:08) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:08', 5, 1, 50, '2009-08-22 13:40:08')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 6) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:08) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (13.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (15.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 61ms (View: 21, DB: 34) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:10) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mPurchase Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:10', 5, 1, 50, '2009-08-22 13:40:10')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 23ms (DB: 10) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:10) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (16.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 24, DB: 23) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:40:15) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"15"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (9.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.1ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:15', 1, 1500, '2009-08-22 13:40:15')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 21ms (DB: 12) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:15) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (15.4ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 50ms (View: 23, DB: 21) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.7ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (18.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.3ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:18', 1, 1, 100, '2009-08-22 13:40:18')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 95ms (DB: 27) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:18) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (20.8ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 54ms (View: 22, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (13.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:18', 1, 1, 100, '2009-08-22 13:40:18')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 33ms (DB: 21) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:18) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (21.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 57ms (View: 25, DB: 27) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:40:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (16.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:40:18', 1, 1, 100, '2009-08-22 13:40:18')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 38ms (DB: 25) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:40:18) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (16.8ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 55ms (View: 25, DB: 23) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_action (for 127.0.0.1 at 2009-08-22 23:40:21) [GET]
  Parameters: {"type"=>"purchase", "id"=>"22"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m

ActionController::UnknownAction (No action responded to remove_action. Actions: login, logout, and setup_user):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:36) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (19.0ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 116ms (View: 84, DB: 27) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:38) [GET]
  Parameters: {"id"=>"23"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 23) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.2ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 23[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_purchase/23]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:38) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (17.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 55ms (View: 25, DB: 23) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:42:40) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (9.4ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.3ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 6[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 18ms (DB: 12) | 302 Found [http://milkbar.local/customer/remove_deposit/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:40) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 34ms (View: 22, DB: 6) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:42:43) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (12.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 7[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 21ms (DB: 15) | 302 Found [http://milkbar.local/customer/remove_deposit/7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:43) [GET]
  [4;35;1mCustomer Columns (8.7ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 44ms (View: 24, DB: 13) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:45) [GET]
  Parameters: {"id"=>"22"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 22[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 13ms (DB: 5) | 302 Found [http://milkbar.local/customer/remove_purchase/22]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:45) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (19.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 52ms (View: 21, DB: 24) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:46) [GET]
  Parameters: {"id"=>"21"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (19.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 21) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 21[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 29ms (DB: 22) | 302 Found [http://milkbar.local/customer/remove_purchase/21]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:46) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (14.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 55ms (View: 25, DB: 23) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:46) [GET]
  Parameters: {"id"=>"21"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 21) [0m

ActiveRecord::RecordNotFound (Couldn't find Purchase with ID=21):
  app/controllers/customer_controller.rb:35:in `remove_purchase'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (31.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:50) [GET]
  Parameters: {"id"=>"20"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 20) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 20[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 10ms (DB: 3) | 302 Found [http://milkbar.local/customer/remove_purchase/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:50) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.4ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 33ms (View: 21, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:51) [GET]
  Parameters: {"id"=>"18"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.7ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 18) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 18[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 4) | 302 Found [http://milkbar.local/customer/remove_purchase/18]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:51) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 95ms (View: 77, DB: 12) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:52) [GET]
  Parameters: {"id"=>"15"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 15) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 15[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 4) | 302 Found [http://milkbar.local/customer/remove_purchase/15]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:52) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (19.5ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 54ms (View: 23, DB: 26) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:53) [GET]
  Parameters: {"id"=>"24"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 24) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 24[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 13ms (DB: 6) | 302 Found [http://milkbar.local/customer/remove_purchase/24]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:53) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (17.8ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 22, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:54) [GET]
  Parameters: {"id"=>"19"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 19) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 19[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 15ms (DB: 8) | 302 Found [http://milkbar.local/customer/remove_purchase/19]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:54) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (13.4ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 43ms (View: 19, DB: 19) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:54) [GET]
  Parameters: {"id"=>"17"}
  [4;36;1mCustomer Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (6.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 17) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 17[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_purchase/17]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:54) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (17.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 106ms (View: 76, DB: 25) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:54) [GET]
  Parameters: {"id"=>"16"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 16) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 16[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 12ms (DB: 4) | 302 Found [http://milkbar.local/customer/remove_purchase/16]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:54) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (18.8ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 51ms (View: 20, DB: 25) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:55) [GET]
  Parameters: {"id"=>"14"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 14) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 14[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 13ms (DB: 6) | 302 Found [http://milkbar.local/customer/remove_purchase/14]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:55) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (14.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (3.0ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 48ms (View: 19, DB: 23) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:55) [GET]
  Parameters: {"id"=>"13"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (9.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 13) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 13[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 12) | 302 Found [http://milkbar.local/customer/remove_purchase/13]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:55) [GET]
  [4;35;1mCustomer Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (18.7ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 50ms (View: 18, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:55) [GET]
  Parameters: {"id"=>"12"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (7.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 12) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 12[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 10) | 302 Found [http://milkbar.local/customer/remove_purchase/12]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:55) [GET]
  [4;36;1mCustomer Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (15.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (1.0ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 49ms (View: 18, DB: 25) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:56) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mCustomer Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 9[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 29ms (DB: 20) | 302 Found [http://milkbar.local/customer/remove_purchase/9]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:56) [GET]
  [4;36;1mCustomer Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (3.0ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (19.8ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (8.6ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (1.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 67ms (View: 19, DB: 41) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:42:57) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mCustomer Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.5ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 4[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 13ms (DB: 5) | 302 Found [http://milkbar.local/customer/remove_deposit/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:57) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (17.8ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 45ms (View: 17, DB: 22) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:42:57) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.4ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Destroy (0.1ms)[0m   [0mDELETE FROM `deposits` WHERE `id` = 2[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 10ms (DB: 3) | 302 Found [http://milkbar.local/customer/remove_deposit/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:57) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 28ms (View: 16, DB: 6) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:59) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (12.7ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.2ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 4[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 23ms (DB: 15) | 302 Found [http://milkbar.local/customer/remove_purchase/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:42:59) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (19.8ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 16, DB: 25) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:42:59) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (7.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 8) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 8[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_purchase/8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:00) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (10.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (3.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 41ms (View: 16, DB: 18) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:43:00) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (6.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mDeposit Load (0.5ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Destroy (0.1ms)[0m   [0mDELETE FROM `deposits` WHERE `id` = 5[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 15ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_deposit/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:00) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (14.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 40ms (View: 16, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:43:00) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mCustomer Columns (77.8ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.8ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.6ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 10[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 92ms (DB: 85) | 302 Found [http://milkbar.local/customer/remove_purchase/10]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:01) [GET]
  [4;35;1mCustomer Columns (4.7ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (5.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (5.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (4.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (1.0ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (3.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 17, DB: 30) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:43:01) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 10) [0m

ActiveRecord::RecordNotFound (Couldn't find Purchase with ID=10):
  app/controllers/customer_controller.rb:35:in `remove_purchase'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (30.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:43:05) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (13.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.1ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 6[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 23ms (DB: 15) | 302 Found [http://milkbar.local/customer/remove_purchase/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:05) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (7.5ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 175ms (View: 153, DB: 15) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:43:05) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (5.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 3[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 15ms (DB: 8) | 302 Found [http://milkbar.local/customer/remove_purchase/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:05) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (16.8ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.8ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 15, DB: 26) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:43:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 14ms (DB: 6) | 302 Found [http://milkbar.local/customer/remove_deposit/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:08) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (18.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 46ms (View: 16, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:43:09) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 3[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 61ms (DB: 3) | 302 Found [http://milkbar.local/customer/remove_deposit/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:09) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (14.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 38ms (View: 13, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:43:12) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"20"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (14.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:43:12', 1, 2000, '2009-08-22 13:43:12')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 26ms (DB: 17) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:43:12) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 25ms (View: 14, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:49:51) [POST]
  Parameters: {"commit"=>"GO", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "value"=>"15"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (11.4ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.1ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:51', 1, 1500, '2009-08-22 13:49:51')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 24ms (DB: 13) | 302 Found [http://milkbar.local/dashboard/deposit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:51) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.1ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 29ms (View: 14, DB: 9) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:49:53) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mPurchase Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:53', 7, 1, 100, '2009-08-22 13:49:53')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 5) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:53) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (14.6ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.1ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 41ms (View: 15, DB: 20) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:49:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:54', 1, 1, 100, '2009-08-22 13:49:54')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 20ms (DB: 7) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:54) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (15.8ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 17, DB: 24) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:49:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (5.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mPurchase Columns (4.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:55', 5, 1, 50, '2009-08-22 13:49:55')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 25ms (DB: 12) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:55) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (20.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 48ms (View: 17, DB: 25) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:49:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (8.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mPurchase Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:55', 5, 1, 50, '2009-08-22 13:49:55')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 28ms (DB: 15) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:55) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (16.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (4.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (2.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 54ms (View: 16, DB: 32) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:49:56) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mPurchase Columns (7.4ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.2ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:56', 5, 1, 50, '2009-08-22 13:49:56')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 24ms (DB: 11) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:56) [GET]
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.7ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (16.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 17, DB: 23) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-22 23:49:56) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCustomer Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (1.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:49:56', 5, 1, 50, '2009-08-22 13:49:56')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:56) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (5.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 34ms (View: 17, DB: 10) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:49:58) [GET]
  Parameters: {"id"=>"30"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (3.8ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 30) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.2ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 30[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 11) | 302 Found [http://milkbar.local/customer/remove_purchase/30]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:49:58) [GET]
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (13.4ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 48ms (View: 18, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-22 23:50:00) [GET]
  Parameters: {"id"=>"29"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (5.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 29) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.2ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 29[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 15ms (DB: 8) | 302 Found [http://milkbar.local/customer/remove_purchase/29]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:50:00) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (19.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 49ms (View: 18, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:55:50) [GET]
  [4;35;1mCustomer Columns (60.5ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (1.0ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 95ms (View: 23, DB: 66) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:58:40) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (17.5ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (3.9ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 16, DB: 26) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:07) [GET]
  [4;35;1mCustomer Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.5ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (5.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 93ms (View: 20, DB: 11) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:59:09) [GET]
  Parameters: {"value"=>"100"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (18.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:59:09', 1, 10000, '2009-08-22 13:59:09')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 30ms (DB: 22) | 302 Found [http://milkbar.local/dashboard/deposit?value=100]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:09) [GET]
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (19.5ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 50ms (View: 19, DB: 25) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:29) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.1ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 27ms (View: 16, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:59:30) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 10) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Destroy (0.2ms)[0m   [0mDELETE FROM `deposits` WHERE `id` = 10[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 14ms (DB: 7) | 302 Found [http://milkbar.local/customer/remove_deposit/10]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:30) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.4ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (21.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 46ms (View: 15, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:59:32) [GET]
  Parameters: {"value"=>"200"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (6.9ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (3.6ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.1ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:59:32', 1, 200, '2009-08-22 13:59:32')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 21ms (DB: 13) | 302 Found [http://milkbar.local/dashboard/deposit?value=200]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:32) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.5ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 27ms (View: 15, DB: 6) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:59:33) [GET]
  Parameters: {"value"=>"500"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:59:33', 1, 500, '2009-08-22 13:59:33')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 67ms (DB: 3) | 302 Found [http://milkbar.local/dashboard/deposit?value=500]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:33) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 28ms (View: 16, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:59:33) [GET]
  Parameters: {"value"=>"2000"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (13.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.1ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:59:34', 1, 2000, '2009-08-22 13:59:34')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 24ms (DB: 16) | 302 Found [http://milkbar.local/dashboard/deposit?value=2000]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:34) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (18.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 18, DB: 23) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-22 23:59:35) [GET]
  Parameters: {"value"=>"50"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (6.2ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.1ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 13:59:35', 1, 50, '2009-08-22 13:59:35')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/deposit?value=50]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:35) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 27ms (View: 16, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:59:36) [GET]
  Parameters: {"id"=>"14"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mDeposit Load (0.3ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 14) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Destroy (0.1ms)[0m   [0mDELETE FROM `deposits` WHERE `id` = 14[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 10ms (DB: 3) | 302 Found [http://milkbar.local/customer/remove_deposit/14]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:36) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 27ms (View: 16, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-22 23:59:37) [GET]
  Parameters: {"id"=>"13"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 13) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Destroy (0.1ms)[0m   [0mDELETE FROM `deposits` WHERE `id` = 13[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 10ms (DB: 3) | 302 Found [http://milkbar.local/customer/remove_deposit/13]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:37) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (14.7ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (6.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 113ms (View: 80, DB: 27) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-22 23:59:53) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (17.5ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `to_money' for 500:Fixnum) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (33.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:14) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (2.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 34ms (View: 16, DB: 12) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-23 00:00:38) [GET]
  Parameters: {"value"=>"500"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.1ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:38', 1, 500, '2009-08-22 14:00:38')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 3) | 302 Found [http://milkbar.local/dashboard/deposit?value=500]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:38) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (21.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 50ms (View: 18, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (14.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:41', 1, 1, 100, '2009-08-22 14:00:41')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 34ms (DB: 21) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:41) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (17.8ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 48ms (View: 19, DB: 23) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:42) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mPurchase Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:42', 6, 1, 150, '2009-08-22 14:00:42')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 23ms (DB: 12) | 302 Found [http://milkbar.local/dashboard/purchase_product/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:42) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (19.8ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 48ms (View: 17, DB: 25) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mPurchase Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:43', 1, 1, 100, '2009-08-22 14:00:43')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 7) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:43) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (13.5ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 43ms (View: 19, DB: 18) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:43) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mPurchase Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:43', 5, 1, 50, '2009-08-22 14:00:43')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 6) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:43) [GET]
  [4;36;1mCustomer Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.3ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 91ms (View: 77, DB: 8) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.1ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.2ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:44', 1, 1, 100, '2009-08-22 14:00:44')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 22ms (DB: 9) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:44) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (17.8ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 50ms (View: 21, DB: 23) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:44', 1, 1, 100, '2009-08-22 14:00:44')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 17ms (DB: 5) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:44) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (12.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 54ms (View: 23, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:00:45) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (6.7ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:00:45', 6, 1, 150, '2009-08-22 14:00:45')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 23ms (DB: 11) | 302 Found [http://milkbar.local/dashboard/purchase_product/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:00:45) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (13.6ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.8ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 46ms (View: 20, DB: 20) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:01:12) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Create (0.1ms)[0m   [0mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:01:12', 7, 1, 100, '2009-08-22 14:01:12')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/purchase_product/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:12) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 94ms (View: 21, DB: 11) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:01:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (7.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.9ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:01:12', 1, 1, 100, '2009-08-22 14:01:12')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 24ms (DB: 12) | 302 Found [http://milkbar.local/dashboard/purchase_product/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:12) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 32ms (View: 20, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#purchase_product (for 127.0.0.1 at 2009-08-23 00:01:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (7.9ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (3.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Create (0.1ms)[0m   [0;1mINSERT INTO `purchases` (`updated_at`, `product_id`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:01:13', 5, 1, 50, '2009-08-22 14:01:13')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 26ms (DB: 15) | 302 Found [http://milkbar.local/dashboard/purchase_product/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:13) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (13.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 44ms (View: 20, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-23 00:01:14) [GET]
  Parameters: {"value"=>"200"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (5.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.1ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:01:14', 1, 200, '2009-08-22 14:01:14')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 8) | 302 Found [http://milkbar.local/dashboard/deposit?value=200]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:14) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (20.6ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 54ms (View: 22, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-23 00:01:15) [GET]
  Parameters: {"value"=>"1000"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (0.2ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:01:15', 1, 1000, '2009-08-22 14:01:15')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 3) | 302 Found [http://milkbar.local/dashboard/deposit?value=1000]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:15) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (10.7ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (4.4ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 105ms (View: 23, DB: 19) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-23 00:01:16) [GET]
  Parameters: {"id"=>"16"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 16) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 16[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 4) | 302 Found [http://milkbar.local/customer/remove_deposit/16]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:16) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (19.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 23, DB: 24) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:17) [GET]
  Parameters: {"id"=>"38"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (1.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (5.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 38) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 38[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 8) | 302 Found [http://milkbar.local/customer/remove_purchase/38]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:17) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (18.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.7ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 56ms (View: 24, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:17) [GET]
  Parameters: {"id"=>"37"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 37) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 37[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 14ms (DB: 6) | 302 Found [http://milkbar.local/customer/remove_purchase/37]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:17) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (21.0ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 52ms (View: 20, DB: 27) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:17) [GET]
  Parameters: {"id"=>"36"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (8.5ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 36) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 36[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 18ms (DB: 11) | 302 Found [http://milkbar.local/customer/remove_purchase/36]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:17) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.4ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 93ms (View: 78, DB: 9) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:18) [GET]
  Parameters: {"id"=>"33"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (11.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 33) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 33[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 22ms (DB: 14) | 302 Found [http://milkbar.local/customer/remove_purchase/33]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:18) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (19.0ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 51ms (View: 21, DB: 25) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-23 00:01:19) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.7ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (6.0ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 11) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 11[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_deposit/11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:19) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (20.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 20, DB: 27) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:19) [GET]
  Parameters: {"id"=>"27"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.8ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (5.7ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.7ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 27) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.1ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 27[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_purchase/27]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:19) [GET]
  [4;35;1mCustomer Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.6ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (20.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.6ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 51ms (View: 18, DB: 26) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:19) [GET]
  Parameters: {"id"=>"26"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (7.4ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 26) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 26[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 19ms (DB: 10) | 302 Found [http://milkbar.local/customer/remove_purchase/26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:19) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (17.5ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 51ms (View: 20, DB: 24) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:20) [GET]
  Parameters: {"id"=>"39"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (5.7ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mPurchase Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 39) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPurchase Destroy (0.1ms)[0m   [0mDELETE FROM `purchases` WHERE `id` = 39[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_purchase/39]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:20) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (16.1ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 47ms (View: 19, DB: 22) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_purchase (for 127.0.0.1 at 2009-08-23 00:01:21) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mPurchase Columns (6.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.`id` = 40) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPurchase Destroy (0.2ms)[0m   [0;1mDELETE FROM `purchases` WHERE `id` = 40[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 16ms (DB: 9) | 302 Found [http://milkbar.local/customer/remove_purchase/40]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:21) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (12.3ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (1.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 41ms (View: 17, DB: 18) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-23 00:01:22) [GET]
  Parameters: {"value"=>"100"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (14.3ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Create (0.2ms)[0m   [0mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:01:22', 1, 100, '2009-08-22 14:01:22')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 25ms (DB: 16) | 302 Found [http://milkbar.local/dashboard/deposit?value=100]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:23) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (19.2ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 48ms (View: 19, DB: 24) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-23 00:01:24) [GET]
  Parameters: {"id"=>"18"}
  [4;36;1mCustomer Columns (131.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (17.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mDeposit Load (0.3ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 18) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mDeposit Destroy (0.1ms)[0m   [0mDELETE FROM `deposits` WHERE `id` = 18[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 160ms (DB: 151) | 302 Found [http://milkbar.local/customer/remove_deposit/18]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:01:24) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.5ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.2ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 30ms (View: 17, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:05:38) [GET]
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.7ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (70.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `money' for #<Deposit:0x2652514>) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:05:50) [GET]
  [4;35;1mCustomer Columns (41.5ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.5ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `money' for #<Deposit:0x24c65c4>) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (39.2ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (8.9ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:06:53) [GET]
  [4;36;1mCustomer Columns (78.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (24.3ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (1.4ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (6.8ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (9.4ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (12.7ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (6.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (8.9ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.6ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `money' for #<Deposit:0x2417380>) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:06:54) [GET]


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:06:54) [GET]
Rendered rescues/_trace (115.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mCustomer Columns (583.7ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Columns (589.8ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (2.0ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mProduct Load (6.1ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (4.5ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (7.5ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Columns (14.8ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Columns (6.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Columns (14.2ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (11.8ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `money' for #<Deposit:0x24c6394>) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'


ActionView::TemplateError (undefined method `money' for #<Deposit:0x24c64ac>) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (41.3ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
Rendered rescues/_trace (41.5ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:06:59) [GET]
  [4;35;1mCustomer Columns (5.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (4.5ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (9.8ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (7.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (2.7ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m

ActionView::TemplateError (undefined method `money' for #<Deposit:0x24c1e5c>) on line #71 of app/views/dashboard/index.html.erb:
68:           <%= action.class %>
69:         </td>
70:         <td>
71:           <%= action.details %>
72:         </td>
73:         <td>
74:           (<a href="/customer/remove_<%= action.class.to_s.downcase %>/<%= action.id %>">remove</a>)

    app/models/deposit.rb:3:in `details'
    app/views/dashboard/index.html.erb:71
    app/views/dashboard/index.html.erb:61:in `each'
    app/views/dashboard/index.html.erb:61
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (39.3ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:07:33) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index

ActionView::TemplateError (/Users/erin/Sites/milkbar/app/models/deposit.rb:3: syntax error, unexpected ')', expecting '}'
    "Deposited $#{value.to_f/100)}"
                                 ^
/Users/erin/Sites/milkbar/app/models/deposit.rb:3: unterminated string meets end of file) on line #2 of app/views/dashboard/index.html.erb:
1: <% if @logged_in_user %>
2:   <h1 style="colour: green;">Hi <%= @logged_in_user.name %>, you have $<%= @logged_in_user.balance.to_f / 100 %> credit.
3: <% else %>
4:   <% form_tag "/customer/login" do %> 
5:     <fieldset>

    app/models/customer.rb:6:in `balance'
    app/views/dashboard/index.html.erb:2
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (103.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:07:40) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 29ms (View: 18, DB: 6) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:08:00) [GET]
  [4;36;1mCustomer Columns (46.8ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.9ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;35;1mDeposit Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mPurchase Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mPurchase Load (0.2ms)[0m   [0;1mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;35;1mDeposit Load (0.1ms)[0m   [0mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 75ms (View: 17, DB: 52) | 200 OK [http://milkbar.local/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#deposit (for 127.0.0.1 at 2009-08-23 00:08:09) [GET]
  Parameters: {"value"=>"2000"}
  [4;36;1mCustomer Columns (100.9ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Create (1.1ms)[0m   [0;1mINSERT INTO `deposits` (`updated_at`, `customer_id`, `value`, `created_at`) VALUES('2009-08-22 14:08:09', 1, 2000, '2009-08-22 14:08:09')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 113ms (DB: 104) | 302 Found [http://milkbar.local/dashboard/deposit?value=2000]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:08:09) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.8ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 29ms (View: 17, DB: 6) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CustomerController#remove_deposit (for 127.0.0.1 at 2009-08-23 00:08:11) [GET]
  Parameters: {"id"=>"19"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mDeposit Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.`id` = 19) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mDeposit Destroy (0.1ms)[0m   [0;1mDELETE FROM `deposits` WHERE `id` = 19[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/
Completed in 11ms (DB: 3) | 302 Found [http://milkbar.local/customer/remove_deposit/19]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:08:11) [GET]
  [4;35;1mCustomer Columns (19.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (3.6ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.2ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 53ms (View: 19, DB: 27) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:37:14) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (3.7ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (3.8ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 190ms (View: 154, DB: 17) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:37:36) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.3ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.2ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 34ms (View: 22, DB: 6) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#index (for 127.0.0.1 at 2009-08-23 00:39:26) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.0ms)[0m   [0mMysql::Error: Table 'milkbar.stocks' doesn't exist: SELECT * FROM `stocks` [0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'milkbar.stocks' doesn't exist: SELECT * FROM `stocks` ):
  app/controllers/stock_controller.rb:5:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (36.9ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090822063053)
Migrating to CreateCustomers (20090822063215)
Migrating to CreatePurchases (20090822063727)
Migrating to CreateDeposits (20090822063747)
Migrating to CreateStocks (20090822143858)
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TABLE `stocks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cost` int(11), `quantity` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822143858')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `customers`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW KEYS FROM `customers`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `deposits`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `deposits`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `purchases`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `purchases`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mdescribe `stocks`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `stocks`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#index (for 127.0.0.1 at 2009-08-23 00:39:36) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` [0m

ActionView::MissingTemplate (Missing template stock/index.erb in view path app/views):
  app/controllers/stock_controller.rb:7:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#index (for 127.0.0.1 at 2009-08-23 00:39:45) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.8ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` [0m
Rendering template within layouts/application
Rendering stock/index
Completed in 69ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/stock]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-08-23 00:39:49) [GET]

NameError (uninitialized constant StocksController):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (24.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#index (for 127.0.0.1 at 2009-08-23 00:40:12) [GET]
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendering template within layouts/application
Rendering stock/index
Completed in 8ms (View: 1, DB: 2) | 200 OK [http://milkbar.local/stock]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-08-23 00:40:14) [GET]

NameError (uninitialized constant StocksController):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (22.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-08-23 00:40:42) [GET]

NameError (uninitialized constant StocksController):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (24.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#new (for 127.0.0.1 at 2009-08-23 00:40:45) [GET]
  [4;36;1mCustomer Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (17.1ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
Rendering template within layouts/application
Rendering stock/new

ActionView::TemplateError (stock_url failed to generate from {:controller=>"stocks", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["stocks", :id] - are they all satisfied?) on line #23 of app/views/stock/new.html.erb:
20:   </p>
21: <% end %>
22: 
23: <%= link_to 'Back', stock_path %>

    (eval):16:in `stock_path'
    app/views/stock/new.html.erb:23
    app/controllers/stock_controller.rb:29:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (45.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Sun Aug 23 00:41:01 +1000 2009
  Status: 500 Internal Server Error
  /Users/erin/Sites/milkbar/app/helpers/stocks_helper.rb:1: class/module name must be CONSTANT
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:224:in `depend_on'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:136:in `require_dependency'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:126:in `helper'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `helper'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    /Users/erin/Sites/milkbar/app/controllers/application_controller.rb:5
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/head.rb:9:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/methodoverride.rb:24:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `synchronize'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/utils.rb:182:in `safe_fork'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:162:in `start'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/bin/passenger-spawn-server:61
/!\ FAILSAFE /!\  Sun Aug 23 00:41:05 +1000 2009
  Status: 500 Internal Server Error
  /Users/erin/Sites/milkbar/app/helpers/stocks_helper.rb:1: class/module name must be CONSTANT
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:224:in `depend_on'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:136:in `require_dependency'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:126:in `helper'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `helper'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    /Users/erin/Sites/milkbar/app/controllers/application_controller.rb:5
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing'
    /Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `dispatch'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    /Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/head.rb:9:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/methodoverride.rb:24:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `synchronize'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
    /Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/utils.rb:182:in `safe_fork'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:162:in `start'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    /Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/bin/passenger-spawn-server:61
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#index (for 127.0.0.1 at 2009-08-23 00:41:47) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` [0m
Rendering template within layouts/application
Rendering stock/index
Completed in 28ms (View: 8, DB: 2) | 200 OK [http://milkbar.local/stock]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-08-23 00:41:48) [GET]

NameError (uninitialized constant StocksController):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (28.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-08-23 00:42:27) [GET]

NameError (uninitialized constant StocksController):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (26.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#new (for 127.0.0.1 at 2009-08-23 00:42:27) [GET]

NameError (uninitialized constant StocksController):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (74.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#new (for 127.0.0.1 at 2009-08-23 00:42:42) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (6.9ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
Rendering template within layouts/application
Rendering stock/new

ActionView::TemplateError (stock_url failed to generate from {:controller=>"stocks", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["stocks", :id] - are they all satisfied?) on line #23 of app/views/stock/new.html.erb:
20:   </p>
21: <% end %>
22: 
23: <%= link_to 'Back', stock_path %>

    (eval):16:in `stock_path'
    app/views/stock/new.html.erb:23
    app/controllers/stock_controller.rb:29:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (63.5ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#new (for 127.0.0.1 at 2009-08-23 00:43:08) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (13.3ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
Rendering template within layouts/application
Rendering stock/new

ActionView::TemplateError (stock_url failed to generate from {:controller=>"stocks", :action=>"show"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["stocks", :id] - are they all satisfied?) on line #23 of app/views/stock/new.html.erb:
20:   </p>
21: <% end %>
22: 
23: <%= link_to 'Back', stock_path %>

    (eval):16:in `stock_path'
    app/views/stock/new.html.erb:23
    app/controllers/stock_controller.rb:29:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (45.7ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-08-23 00:43:16) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY name[0m
Rendering template within layouts/application
Rendering dashboard/index
  [4;36;1mDeposit Columns (14.3ms)[0m   [0;1mSHOW FIELDS FROM `deposits`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`deposits`.value) AS sum_value FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;36;1mPurchase Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `purchases`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT sum(`purchases`.value) AS sum_value FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mPurchase Load (0.3ms)[0m   [0mSELECT * FROM `purchases` WHERE (`purchases`.customer_id = 1) [0m
  [4;36;1mDeposit Load (0.1ms)[0m   [0;1mSELECT * FROM `deposits` WHERE (`deposits`.customer_id = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Completed in 188ms (View: 159, DB: 22) | 200 OK [http://milkbar.local/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StockController#index (for 127.0.0.1 at 2009-08-23 00:43:21) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` [0m
Rendering template within layouts/application
Rendering stock/index
Completed in 11ms (View: 3, DB: 1) | 200 OK [http://milkbar.local/stock]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:45:16) [GET]
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (0.0ms)[0m   [0mMysql::Error: Table 'milkbar.stocks' doesn't exist: SHOW FIELDS FROM `stocks`[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'milkbar.stocks' doesn't exist: SHOW FIELDS FROM `stocks`):
  app/controllers/stocks_controller.rb:27:in `new'
  app/controllers/stocks_controller.rb:27:in `new'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (30.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#index (for 127.0.0.1 at 2009-08-23 00:45:18) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.0ms)[0m   [0mMysql::Error: Table 'milkbar.stocks' doesn't exist: SELECT * FROM `stocks` [0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'milkbar.stocks' doesn't exist: SELECT * FROM `stocks` ):
  app/controllers/stocks_controller.rb:5:in `index'
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (36.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090822063053)
Migrating to CreateCustomers (20090822063215)
Migrating to CreatePurchases (20090822063727)
Migrating to CreateDeposits (20090822063747)
Migrating to CreateStocks (20090822144428)
  [4;35;1mSQL (1.4ms)[0m   [0mCREATE TABLE `stocks` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cost` int(11), `quantity` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090822144428')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `customers`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW KEYS FROM `customers`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `deposits`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `deposits`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `deposits`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `purchases`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `purchases`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `purchases`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `stocks`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `stocks`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#index (for 127.0.0.1 at 2009-08-23 00:45:35) [GET]
  [4;35;1mCustomer Columns (13.5ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` [0m
Rendering template within layouts/stocks
Rendering stocks/index
Completed in 30ms (View: 9, DB: 14) | 200 OK [http://milkbar.local/stocks/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:45:36) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
Rendering template within layouts/stocks
Rendering stocks/new
Completed in 14ms (View: 5, DB: 2) | 200 OK [http://milkbar.local/stocks/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:47:33) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (16.6ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/new
ERROR: compiling _run_erb_app47views47stocks47new46html46erb RAISED compile error
/Users/erin/Sites/milkbar/app/views/stocks/new.html.erb:12: syntax error, unexpected ')'
..."; @output_buffer.concat(( f.).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47stocks47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>New stock</h1>\n"
@output_buffer.concat "\n"
 form_for(@stock) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :product_id ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :product_id, @products ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  \n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cost ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cost ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :quantity ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :quantity ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'Back', stocks_path ).to_s); @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/erin/Sites/milkbar/app/views/stocks/new.html.erb:29:in `compile!'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:947:in `render_without_benchmark'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `each'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/erin/Sites/milkbar/app/controllers/stocks_controller.rb:30:in `new'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/head.rb:9:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/methodoverride.rb:24:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/utils.rb:182:in `safe_fork'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:162:in `start'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/bin/passenger-spawn-server:61

ActionView::TemplateError (compile error
/Users/erin/Sites/milkbar/app/views/stocks/new.html.erb:12: syntax error, unexpected ')'
..."; @output_buffer.concat(( f.).to_s); @output_buffer.concat ...
                              ^) on line #12 of app/views/stocks/new.html.erb:
9:   </p>
10:   
11:   <p>
12:     <%= f.%>
13:   <p>
14:     <%= f.label :cost %><br />
15:     <%= f.text_field :cost %>

    app/views/stocks/new.html.erb:29:in `compile!'
    app/controllers/stocks_controller.rb:30:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:47:49) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/new
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 21ms (View: 7, DB: 6) | 200 OK [http://milkbar.local/stocks/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:48:13) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mProduct Load (3.6ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/new
ERROR: compiling _run_erb_app47views47stocks47new46html46erb RAISED compile error
/Users/erin/Sites/milkbar/app/views/stocks/new.html.erb:8: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
...ollection_for_select @products ).to_s); @output_buffer.conca...
                              ^
Function body:           def _run_erb_app47views47stocks47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>New stock</h1>\n"
@output_buffer.concat "\n"
 form_for(@stock) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :product_id ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :product_id, options_from_collection_for_select @products ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  \n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cost ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cost ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :quantity ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :quantity ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
@output_buffer.concat "  <p>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </p>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'Back', stocks_path ).to_s); @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/erin/Sites/milkbar/app/views/stocks/new.html.erb:27:in `compile!'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:947:in `render_without_benchmark'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `each'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/erin/Sites/milkbar/app/controllers/stocks_controller.rb:30:in `new'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action_without_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Users/erin/.gem/ruby/1.8/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `send'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process_without_filters'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `initialize'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
/Users/erin/.gem/ruby/1.8/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/head.rb:9:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/methodoverride.rb:24:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/vendor/rack-1.0.0-git/lib/rack/lock.rb:11:in `call'
/Users/erin/.gem/ruby/1.8/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/utils.rb:182:in `safe_fork'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:162:in `start'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `__send__'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
/Users/erin/.gem/ruby/1.8/gems/passenger-2.2.4/bin/passenger-spawn-server:61

ActionView::TemplateError (compile error
/Users/erin/Sites/milkbar/app/views/stocks/new.html.erb:8: syntax error, unexpected tIVAR, expecting kDO or '{' or '('
...ollection_for_select @products ).to_s); @output_buffer.conca...
                              ^) on line #8 of app/views/stocks/new.html.erb:
5: 
6:   <p>
7:     <%= f.label :product_id %><br />
8:     <%= f.select :product_id, options_from_collection_for_select @products %>
9:   </p>
10:   
11:   <p>

    app/views/stocks/new.html.erb:27:in `compile!'
    app/controllers/stocks_controller.rb:30:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (92.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:48:21) [GET]
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mProduct Load (7.4ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/new

ActionView::TemplateError (wrong number of arguments (1 for 3)) on line #8 of app/views/stocks/new.html.erb:
5: 
6:   <p>
7:     <%= f.label :product_id %><br />
8:     <%= f.select :product_id, options_from_collection_for_select(@products) %>
9:   </p>
10:   
11:   <p>

    app/views/stocks/new.html.erb:8:in `options_from_collection_for_select'
    app/views/stocks/new.html.erb:8
    app/views/stocks/new.html.erb:3
    app/controllers/stocks_controller.rb:30:in `new'
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (37.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#new (for 127.0.0.1 at 2009-08-23 00:48:41) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.8ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (24.8ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/new
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 45ms (View: 6, DB: 28) | 200 OK [http://milkbar.local/stocks/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#create (for 127.0.0.1 at 2009-08-23 00:48:50) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "stock"=>{"cost"=>"3.70", "quantity"=>"4", "product_id"=>"6"}}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (26.6ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStock Create (0.2ms)[0m   [0;1mINSERT INTO `stocks` (`updated_at`, `cost`, `product_id`, `quantity`, `created_at`) VALUES('2009-08-22 14:48:50', 3, 6, 4, '2009-08-22 14:48:50')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://milkbar.local/stocks/1
Completed in 38ms (DB: 29) | 302 Found [http://milkbar.local/stocks]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#show (for 127.0.0.1 at 2009-08-23 00:48:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (23.9ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendering template within layouts/stocks
Rendering stocks/show
Completed in 95ms (View: 5, DB: 26) | 200 OK [http://milkbar.local/stocks/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#index (for 127.0.0.1 at 2009-08-23 00:48:52) [GET]
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (8.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendering template within layouts/stocks
Rendering stocks/index
  [4;35;1mStock Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
Completed in 24ms (View: 3, DB: 14) | 200 OK [http://milkbar.local/stocks]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#index (for 127.0.0.1 at 2009-08-23 00:49:34) [GET]
  [4;35;1mCustomer Columns (35.6ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` [0m
Rendering template within layouts/stocks
Rendering stocks/index
  [4;36;1mStock Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 6) [0m
Completed in 72ms (View: 9, DB: 54) | 200 OK [http://milkbar.local/stocks]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#edit (for 127.0.0.1 at 2009-08-23 00:49:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendering template within layouts/stocks
Rendering stocks/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #8 of app/views/stocks/edit.html.erb:
5: 
6:   <p>
7:     <%= f.label :product_id %><br />
8:     <%= f.select :product_id, options_from_collection_for_select(@products, 'id', 'name') %>
9:   </p>
10:   
11:   <p>

    app/views/stocks/edit.html.erb:8
    app/views/stocks/edit.html.erb:3
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (33.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#edit (for 127.0.0.1 at 2009-08-23 00:50:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (5.2ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendering template within layouts/stocks
Rendering stocks/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #8 of app/views/stocks/edit.html.erb:
5: 
6:   <p>
7:     <%= f.label :product_id %><br />
8:     <%= f.select :product_id, options_from_collection_for_select(@products, 'id', 'name') %>
9:   </p>
10:   
11:   <p>

    app/views/stocks/edit.html.erb:8
    app/views/stocks/edit.html.erb:3
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (35.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#edit (for 127.0.0.1 at 2009-08-23 00:50:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendering template within layouts/stocks
Rendering stocks/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #8 of app/views/stocks/edit.html.erb:
5: 
6:   <p>
7:     <%= f.label :product_id %><br />
8:     <%= f.select :product_id, options_from_collection_for_select(@products, 'id', 'name') %>
9:   </p>
10:   
11:   <p>

    app/views/stocks/edit.html.erb:8
    app/views/stocks/edit.html.erb:3
    passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
    passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
    passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
    passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
    passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendered rescues/_trace (38.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#edit (for 127.0.0.1 at 2009-08-23 00:50:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (6.0ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/edit
  [4;36;1mProduct Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 25ms (View: 5, DB: 11) | 200 OK [http://milkbar.local/stocks/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#update (for 127.0.0.1 at 2009-08-23 00:50:18) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "stock"=>{"cost"=>"3", "quantity"=>"4", "product_id"=>"1"}, "id"=>"1"}
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.6ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (4.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStock Update (0.2ms)[0m   [0mUPDATE `stocks` SET `product_id` = 1, `updated_at` = '2009-08-22 14:50:18' WHERE `id` = 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/stocks/1
Completed in 23ms (DB: 10) | 302 Found [http://milkbar.local/stocks/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#update (for 127.0.0.1 at 2009-08-23 00:50:18) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "stock"=>{"cost"=>"3", "quantity"=>"4", "product_id"=>"1"}, "id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (13.6ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/stocks/1
Completed in 38ms (DB: 16) | 302 Found [http://milkbar.local/stocks/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#show (for 127.0.0.1 at 2009-08-23 00:50:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendering template within layouts/stocks
Rendering stocks/show
Completed in 20ms (View: 10, DB: 3) | 200 OK [http://milkbar.local/stocks/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#edit (for 127.0.0.1 at 2009-08-23 00:50:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mCustomer Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `stocks`[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/stocks
Rendering stocks/edit
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Completed in 25ms (View: 8, DB: 7) | 200 OK [http://milkbar.local/stocks/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#update (for 127.0.0.1 at 2009-08-23 00:50:30) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"gWDcKJ0iSkj6n8Gj5pbiwL31qYjAEoQa0FwlKnLueRE=", "stock"=>{"cost"=>"1599", "quantity"=>"30", "product_id"=>"1"}, "id"=>"1"}
  [4;36;1mCustomer Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (18.8ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStock Update (0.2ms)[0m   [0mUPDATE `stocks` SET `cost` = 1599, `quantity` = 30, `updated_at` = '2009-08-22 14:50:30' WHERE `id` = 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://milkbar.local/stocks/1
Completed in 33ms (DB: 21) | 302 Found [http://milkbar.local/stocks/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#show (for 127.0.0.1 at 2009-08-23 00:50:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mCustomer Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `customers`[0m
  [4;35;1mCustomer Load (0.2ms)[0m   [0mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;36;1mStock Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.4ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendering template within layouts/stocks
Rendering stocks/show
Completed in 13ms (View: 2, DB: 3) | 200 OK [http://milkbar.local/stocks/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StocksController#index (for 127.0.0.1 at 2009-08-23 00:50:34) [GET]
  [4;35;1mCustomer Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `customers`[0m
  [4;36;1mCustomer Load (0.2ms)[0m   [0;1mSELECT * FROM `customers` WHERE (`customers`.`id` = 1) [0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` [0m
Rendering template within layouts/stocks
Rendering stocks/index
  [4;36;1mStock Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Completed in 20ms (View: 9, DB: 5) | 200 OK [http://milkbar.local/stocks]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-23 00:51:04) [GET]

ActionController::RoutingError (No route matches "/admin" with {:method=>:get}):
  passenger (2.2.4) lib/phusion_passenger/rack/request_handler.rb:91:in `process_request'
  passenger (2.2.4) lib/phusion_passenger/abstract_request_handler.rb:206:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:376:in `start_request_handler'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:334:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/utils.rb:182:in `safe_fork'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:332:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:162:in `start'
  passenger (2.2.4) lib/phusion_passenger/railz/application_spawner.rb:213:in `start'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:261:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:153:in `spawn_application'
  passenger (2.2.4) lib/phusion_passenger/spawn_manager.rb:286:in `handle_spawn_application'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `__send__'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:351:in `main_loop'
  passenger (2.2.4) lib/phusion_passenger/abstract_server.rb:195:in `start_synchronously'

Rendering rescues/layout (not_found)
